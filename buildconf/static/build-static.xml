<?xml version="1.0" encoding="UTF-8"?>
<project basedir="../../" default="static" name="xMod Static">
  <import file="build-static-depends.xml" />

  <target depends="prepare-static" name="static">
    <!-- documentation -->
    <xslt basedir="${aggr.build.dir}" destdir="${content.build.dir}" extension=".html" filedirparameter="filedir"
      filenameparameter="filename" includes="doc/*.xml" style="${style.dir}/spec/doc.xsl">
      <factory name="net.sf.saxon.TransformerFactoryImpl">
        <attribute name="http://saxon.sf.net/feature/xinclude-aware" value="true" />
      </factory>
      
      <outputproperty name="indent" value="yes"/>
      <outputproperty name="method" value="xhtml"/>
      <outputproperty name="omit-xml-declaration" value="yes"/>
      
      <param expression="html" name="fileextension" />
    </xslt>

    <!-- examples -->
    <xslt basedir="${aggr.build.dir}" destdir="${content.build.dir}" extension=".html" filedirparameter="filedir"
      filenameparameter="filename" includes="examples/*.xml" style="${style.dir}/spec/examples.xsl">
      <factory name="net.sf.saxon.TransformerFactoryImpl">
        <attribute name="http://saxon.sf.net/feature/xinclude-aware" value="true" />
      </factory>
      
      <outputproperty name="indent" value="yes"/>
      <outputproperty name="method" value="xhtml"/>
      <outputproperty name="omit-xml-declaration" value="yes"/>
      
      <param expression="html" name="fileextension" />
    </xslt>

    <!-- default -->
    <xslt basedir="${aggr.build.dir}" destdir="${content.build.dir}" excludes="doc/**, examples/**" extension=".html"
      filedirparameter="filedir" filenameparameter="filename" includes="**/*.xml" style="${style.dir}/spec/default.xsl">
      <factory name="net.sf.saxon.TransformerFactoryImpl">
        <attribute name="http://saxon.sf.net/feature/xinclude-aware" value="true" />
      </factory>
      
      <outputproperty name="indent" value="yes"/>
      <outputproperty name="method" value="xhtml"/>
      <outputproperty name="omit-xml-declaration" value="yes"/>
      
      <param expression="html" name="fileextension" />
    </xslt>

    <antcall target="delete-aggregation" />
  </target>
</project>
